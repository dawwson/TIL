# 클린 코드(Clean Code)

`#노개북` `#노마드코더` `#개발자북클럽`

- 작가 : 로버트 C. 마틴
- 출판사 : 인사이트

<br>

## Assignment #07

`2024.02.03`

### 🔖 5. 형식 맞추기

#### 기억하고 싶은 내용

[ 왜 형식을 맞춰야 할까? ]

- 코드 형식은 의사소통의 일환이다.
- 코드는 바뀔지라도 처음 잡아놓은 구현 스타일과 가독성 수준은 사라지지 않는다.
- 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다.

<br>

[ 소통을 원활하게 하는 코드 형식 1 : 세로 형식 맞추기 ]

1. 적절한 세로 길이
   - 큰 규모의 프로젝트도 파일당 200줄 미만으로 작성한 사례들이 있다.
   - 엄격하게 지킬 필요는 없지만, 큰 파일보다는 작은 파일이 읽기 쉽다.
2. 빈 행으로 분리하기
   - 패키지 선언부, 함수와 함수 사이 등 적절하게 빈 행을 넣어서 가독성을 높이자.
3. 서로 밀접한 코드는 가까이 놓기 ➡️ `개념적 유사성`
   - 하나의 파일 안에 위치한다.
   - 변수는 사용하는 위치에 최대한 가깝운 곳에 선언한다.
   - 인스턴스 변수는 클래스 맨 처음이든 마지막이든 한 곳으로 모은다.
   - 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치시킨다.
     - 가능하다면 호출하는 함수를 호출되는 함수보다 위에 위치시킨다. `고차원 ➡️ 저차원`
     - 호출하는 함수 바로 아래에 호출되는 순서대로 배치하면 더 좋다.

<br>

[ 소통을 원활하게 하는 코드 형식 2 : 가로 형식 맞추기 ]

1. 한 행의 길이를 짧게 유지하자
   - 120자 이내로 권장한다.
2. 적절한 공백
   - 할당문 공백  
     `const value = 1`
   - 함수 파라미터 공백  
     `function f1(a, b) { }`
   - 수식에서 연산자 우선순위에 따른 공백  
     `return b*b - 4*a*c;`
3. 적절한 정렬과 들여쓰기

   - 간단한 if 문이라도 들여쓰기를 권장한다.

     ```js
     // Bad
     if (a) return true;

     // Good
     if (a) {
       return true;
     }
     ```

#### 오늘 읽은 소감

- [JavaScript Standard Style](https://standardjs.com/rules.html) 이라는 것을 발견했다... vscode prettier 익스텐션 깔아놓으면 자동 정렬돼서 별로 신경을 안 쓰고 있었는데, 틈틈히 읽어서 린팅 규칙을 커스텀 해봐야겠다.
- 개발자마다 각자의 취향이 있다보니 팀 규칙을 정하는 게 어려웠었는데 책의 내용을 많이 참고할 수 있을 것 같다.

#### 궁금한 내용 & 잘 이해되지 않는 내용

- `p.103`
  - C++ 가위 규칙(scissors-rule)
    - 모든 인스턴스 변수를 클래스 마지막에 선언한다.
- `p.105`

  - 저차원 함수에서 상수를 사용할 때, 상수를 알아야 마땅한 함수에서 실제로 사용하는 함수로 상수로 넘겨주는 방법이 더 좋다.

    1. 고차원 함수 : 더 추상화된 레벨의 함수. 주로 비즈니스 로직이나 높은 수준의 기능을 다룬다.
    2. 저차원 함수 : 구체적이고 상세한 구현을 담당하는 함수. 주로 세부적인 기능을 처리한다.
    3. 고차원 함수에서 저차원 함수로 상수를 전달함으로써, 고차원 함수가 세부적인 로직을 신경 쓰지 않고 저차원 함수에게 특정한 작업을 위임할 수 있다.

  - 예시

    ```js
    // 고차원 함수
    function calculateTotalPrice(price, quantity) {
    const taxRate = 0.1; // 세율 상수

        // 저차원 함수 호출
        const totalPrice = calculatePriceWithTax(price, quantity, taxRate);

        console.log(`Total Price: $${totalPrice}`);

    }

    // 저차원 함수
    function calculatePriceWithTax(price, quantity, taxRate) {
    // 세금을 고려한 총 가격 계산
      const totalPrice = price _ quantity _ (1 + taxRate);
      return totalPrice;
    }

    // 고차원 함수 호출
    calculateTotalPrice(20, 3);
    ```
